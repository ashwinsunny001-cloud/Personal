<script>
let count = 5;
let countdownEl = document.getElementById("countdown");
let messageEl = document.getElementById("message");
let button = document.querySelector("button");
let music = document.getElementById("music");

// Hide message & button initially
messageEl.style.display = "none";
button.style.display = "none";

// Countdown logic
let timer = setInterval(() => {
  count--;
  countdownEl.textContent = count;

  if (count === 0) {
    clearInterval(timer);
    countdownEl.innerHTML = "Ready? ðŸŽ€";
    button.style.display = "inline-block"; // Show button ONLY after countdown
  }
}, 1000);

// This runs ONLY when button is clicked
function startSurprise() {

  // Hide countdown and button
  countdownEl.style.display = "none";
  button.style.display = "none";

  // Show message
  messageEl.style.display = "block";

  // Play music
  music.play();

  // Fireworks effect
  let duration = 4 * 1000;
  let end = Date.now() + duration;

  (function frame() {
    confetti({
      particleCount: 6,
      angle: 60,
      spread: 70,
      origin: { x: 0 }
    });
    confetti({
      particleCount: 6,
      angle: 120,
      spread: 70,
      origin: { x: 1 }
    });

    if (Date.now() < end) {
      requestAnimationFrame(frame);
    }
  }());
}
</script>
